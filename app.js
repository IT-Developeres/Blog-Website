// Optimized JavaScript with debouncing and composited animations
(function(){'use strict';const debounce=(fn,wait)=>{let t;return(...args)=>{clearTimeout(t);t=setTimeout(()=>fn.apply(this,args),wait)}};const initMobileMenu=()=>{const b=document.getElementById('mobile-menu-button'),m=document.getElementById('mobile-menu');b&&m&&b.addEventListener('click',()=>{const e=b.getAttribute('aria-expanded')==='true';b.setAttribute('aria-expanded',!e);m.classList.toggle('hidden');m.classList.toggle('block')})};const blogPosts=[{title:"The Future of AI in Web Development",excerpt:"Discover how artificial intelligence is revolutionizing the way we build and interact with websites and web applications.",date:"October 18, 2025",category:"AI & ML",readTime:"5 min read",image:"img/ai.avif"},{title:"Responsive Design in 2025: Best Practices",excerpt:"Explore the latest techniques for creating responsive websites that work flawlessly across all devices and screen sizes.",date:"October 15, 2025",category:"Web Dev",readTime:"7 min read",image:"img/responsive.avif"},{title:"Getting Started with React 19",excerpt:"A comprehensive guide to the new features and improvements in React 19 for modern web development.",date:"October 10, 2025",category:"Web Dev",readTime:"8 min read",image:"img/react.avif"},{title:"Vue.js 4: What's New",excerpt:"Discover the exciting new features and performance improvements in Vue.js 4 and how they can benefit your projects.",date:"October 5, 2025",category:"Web Dev",readTime:"6 min read",image:"img/vue-js.avif"},{title:"Modern JavaScript: ES2025 Features",excerpt:"Stay up-to-date with the latest JavaScript features and syntax improvements in ES2025.",date:"September 28, 2025",category:"JavaScript",readTime:"9 min read",image:"img/es6.avif"},{title:"Building Scalable Web Applications",excerpt:"Learn the best practices and architectural patterns for building highly scalable web applications.",date:"September 20, 2025",category:"Web Dev",readTime:"10 min read",image:"img/web-app.avif"}];const generateBlogPosts=()=>{const c=document.getElementById('posts-container');if(!c)return;c.innerHTML='';const processPost=(post,index)=>{const card=document.createElement('article');card.className='group bg-white rounded-xl overflow-hidden shadow-md flex flex-col h-full transform transition-transform duration-300 hover:scale-105';card.style.willChange='transform';const cat=post.category==='AI & ML'?'primary':'secondary';card.innerHTML=`<div class="relative overflow-hidden h-48"><img src="${post.image}" alt="${post.title}" loading="lazy" width="400" height="192" class="w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-105" style="will-change:transform"><div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-4" style="will-change:opacity"><span class="text-white text-sm font-medium">Read more â†’</span></div></div><div class="p-6 flex-1 flex flex-col"><div class="flex items-center space-x-2 mb-3"><span class="px-3 py-1 bg-${cat}-100 text-${cat}-700 text-xs font-medium rounded-full">${post.category}</span><span class="text-xs text-gray-500">${post.readTime}</span></div><h3 class="text-xl font-bold text-gray-900 mb-2 transform transition-opacity duration-300 group-hover:opacity-70" style="will-change:opacity"><a href="#" class="hover:underline">${post.title}</a></h3><p class="text-gray-600 mb-4 flex-1">${post.excerpt}</p><div class="flex items-center pt-4 border-t border-gray-100"><span class="text-xs text-gray-500">${post.date}</span></div></div>`;c.appendChild(card)};if('requestIdleCallback'in window){let i=0;const processBatch=(deadline)=>{while(deadline.timeRemaining()>0&&i<blogPosts.length){processPost(blogPosts[i],i);i++}if(i<blogPosts.length)requestIdleCallback(processBatch)};requestIdleCallback(processBatch)}else{blogPosts.forEach(processPost)}};const initSmoothScroll=()=>{document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const t=this.getAttribute('href');if(t==='#')return;const el=document.querySelector(t);if(el){window.scrollTo({top:el.offsetTop-80,behavior:'smooth'});const m=document.getElementById('mobile-menu'),b=document.getElementById('mobile-menu-button');if(m&&!m.classList.contains('hidden')&&b)b.click()}})})};const initBackToTop=()=>{const btn=document.createElement('button');btn.className='fixed bottom-6 right-6 bg-primary-600 text-white p-3 rounded-full shadow-lg opacity-0 invisible transform transition-opacity duration-300 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500';btn.style.willChange='opacity,transform';btn.innerHTML='<i class="fas fa-arrow-up" aria-hidden="true"></i>';btn.setAttribute('aria-label','Back to top');document.body.appendChild(btn);let ticking=false;const handleScroll=debounce(()=>{if(!ticking){requestAnimationFrame(()=>{const show=window.pageYOffset>300;if(show){btn.classList.remove('opacity-0','invisible');btn.classList.add('opacity-100','visible')}else{btn.classList.remove('opacity-100','visible');btn.classList.add('opacity-0','invisible')}ticking=false});ticking=true}},16);window.addEventListener('scroll',handleScroll,{passive:true});btn.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'})})};document.addEventListener('DOMContentLoaded',()=>{initMobileMenu();if('requestIdleCallback'in window){requestIdleCallback(()=>{generateBlogPosts();initSmoothScroll();initBackToTop()})}else{setTimeout(()=>{generateBlogPosts();initSmoothScroll();initBackToTop()},0)}})})();
